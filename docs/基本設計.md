# 依頼：Tabiori-Scrap 基本・詳細設計書

要件定義に基づき、Next.js (App Router) と Supabase を使用した開発のための設計図を作成してください。

## 1. データベース設計 (Supabase/PostgreSQL)
- `trips` テーブルと `timeline_items` テーブルのカラム、型、リレーションシップ、RLS（行レベルセキュリティ）ポリシーの詳細。

## 2. ディレクトリ構成
- `app/`, `components/`, `lib/supabase/`, `hooks/`, `types/` を含むNext.jsの構造。

## 3. コンポーネント設計
- `Timeline`: 親コンポーネント
- `PlanCard`: 予定表示用（チェックボックス付き）
- `PhotoCard`: 写真表示用（ポラロイド風デザイン）
- `InputForm`: 予定追加・画像アップロード共用または個別フォーム

## 4. インフラ・外部API設計
- Supabase Storageのバケット構成。
- Google Map URLのハンドリング方法。
- Vercelへのデプロイフロー。

## 出力物
- テーブル定義のSQLクエリ
- `types/database.ts` に記述するTypeScript型定義
- フォルダ構成図